<div class="row">
  <div class="span3"><h1>Recipe history</h1></div>
</div>
<div class="row-fluid">
	<% recipe  = Recipe.find(params[:id]) %>
	<% history = [] %>
	<% i = 0 %>

	<% while recipe.parent != nil %>
		<% parent = Recipe.find(recipe.parent) %>
		<% if parent.owner.active %>
			<% history << parent %>
		<% end %>
		<% recipe = recipe.parent %>
    <% end %>
    
    <!-- TODO: Add some nice connections betwen recipes -->
    <% history.reverse.each do |r| %>
    	<%= render "recipes/thumbnail_block", :recipe => r %>
    <% end %>
  </ul>
</div>